{"version":3,"sources":["versionExecPath.ts"],"sourcesContent":["const path = require('path')\nconst resolveVersion = require('node-resolve-versions');\nconst versionUse = require('node-version-use');\nconst accessSync = require('fs-access-sync-compat');\n\nconst isWindows = process.platform === 'win32';\nconst NODE = isWindows ? 'node.exe' : 'node';\n\nexport default function versionExecPath(version) {\n  const versions = resolveVersion.sync(version);\n  if (versions.length > 1) throw new Error('Multiple versions match: ' + version + ' = ' + versions.join(',') + '. Please be specific')\n  const installPath = path.join(versionUse.installDirectory(), versions[0]);\n\n  try {\n    // ensure installed\n    accessSync(installPath);\n    const binRoot = isWindows ? installPath : path.join(installPath, 'bin');\n    return path.join(binRoot, NODE);    \n  } \n  // need to install\n  catch (err) {\n    throw new Error(`${versions[0]} is not installed at ${installPath}`);\n  }\n}\n"],"names":["versionExecPath","version","versions","resolveVersion","sync","length","Error","join","installPath","path","versionUse","installDirectory","accessSync","binRoot","isWindows","NODE","err","require","process","platform"],"mappings":"AAAA;;;;kBAQwBA,eAAe;AAAxB,SAASA,eAAe,CAACC,OAAO,EAAE;IAC/C,IAAMC,QAAQ,GAAGC,cAAc,CAACC,IAAI,CAACH,OAAO,CAAC,AAAC;IAC9C,IAAIC,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,GAAGL,OAAO,GAAG,KAAK,GAAGC,QAAQ,CAACK,IAAI,CAAC,GAAG,CAAC,GAAG,sBAAsB,CAAC,CAAA;IACrI,IAAMC,WAAW,GAAGC,IAAI,CAACF,IAAI,CAACG,UAAU,CAACC,gBAAgB,EAAE,EAAET,QAAQ,CAAC,CAAC,CAAC,CAAC,AAAC;IAE1E,IAAI;QACF,mBAAmB;QACnBU,UAAU,CAACJ,WAAW,CAAC,CAAC;QACxB,IAAMK,OAAO,GAAGC,SAAS,GAAGN,WAAW,GAAGC,IAAI,CAACF,IAAI,CAACC,WAAW,EAAE,KAAK,CAAC,AAAC;QACxE,OAAOC,IAAI,CAACF,IAAI,CAACM,OAAO,EAAEE,IAAI,CAAC,CAAC;KACjC,CACD,kBAAkB;IAClB,OAAOC,GAAG,EAAE;QACV,MAAM,IAAIV,KAAK,CAAC,AAAC,EAAA,CAAqCE,MAAW,CAA9CN,QAAQ,CAAC,CAAC,CAAC,EAAC,uBAAqB,CAAc,CAAA,MAAA,CAAZM,WAAW,CAAE,CAAC,CAAC;KACtE;CACF;AAvBD,IAAMC,IAAI,GAAGQ,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAMd,cAAc,GAAGc,OAAO,CAAC,uBAAuB,CAAC,AAAC;AACxD,IAAMP,UAAU,GAAGO,OAAO,CAAC,kBAAkB,CAAC,AAAC;AAC/C,IAAML,UAAU,GAAGK,OAAO,CAAC,uBAAuB,CAAC,AAAC;AAEpD,IAAMH,SAAS,GAAGI,OAAO,CAACC,QAAQ,KAAK,OAAO,AAAC;AAC/C,IAAMJ,IAAI,GAAGD,SAAS,GAAG,UAAU,GAAG,MAAM,AAAC"}